<mvc:View
    controllerName="project4.controller.View2"
    xmlns:mvc="sap.ui.core.mvc"
    xmlns="sap.m"
    xmlns:form="sap.ui.layout.form"
    xmlns:uxap="sap.uxap"
    xmlns:core="sap.ui.core"
    height="100%"
>
    <Page
        title="Procurement Request"
        showFooter="true"
    >
        <footer>
            <OverflowToolbar>
                <ToolbarSpacer />
                <Button
                    type="Emphasized"
                    text="Submit"
                    press=".onSubmit"
                />
                <Button
                    type="Reject"
                    text="Cancel"
                    press=".onCancel"
                />
            </OverflowToolbar>
        </footer>

        <uxap:ObjectPageLayout
            id="ObjectPageLayout"
            showTitleInHeaderContent="true"
            upperCaseAnchorBar="false"
        >
            <uxap:headerTitle>
                <uxap:ObjectPageDynamicHeaderTitle>
                    <uxap:expandedHeading>
                        <HBox>
                            <Title text="Procurement Request" />
                        </HBox>
                    </uxap:expandedHeading>
                </uxap:ObjectPageDynamicHeaderTitle>
            </uxap:headerTitle>

            <uxap:sections>
                <!-- General Information Section -->
                <uxap:ObjectPageSection title="General Information">
                    <uxap:subSections>
                        <uxap:ObjectPageSubSection>
                            <uxap:blocks>
                                <form:SimpleForm
                                    editable="true"
                                    layout="ResponsiveGridLayout"
                                    labelSpanXL="3"
                                    labelSpanL="3"
                                    labelSpanM="4"
                                    columnsXL="2"
                                    columnsL="2"
                                    columnsM="1"
                                    adjustLabelSpan="false"
                                >
                                    <Label
                                        text="Department"
                                        required="true"
                                    />
                                    <Button
                                        id="DepartmentButton"
                                        text="{ui>/selectedDepartmentName}"
                                        press=".onDeptHelpRequest"
                                    />

                                    <Label
                                        text="Supplier"
                                        required="true"
                                    />
                                    <Button
                                        id="SupplierButton"
                                        text="{ui>/selectedSuppname}"
                                        press=".onSuppHelpRequest"
                                    />

                                    <Label
                                        text="Request Date"
                                        required="true"
                                    />
                                    <DatePicker
                                        value="{ui>/requestDate}"
                                        valueFormat="yyyy-MM-dd"
                                        displayFormat="long"
                                        editable="false"
                                    />

                                    <Label
                                        text="Requested By"
                                        required="true"
                                    />
                                    <Input
                                        value="Amin"
                                        editable="false"
                                    />
                                </form:SimpleForm>
                            </uxap:blocks>
                        </uxap:ObjectPageSubSection>
                    </uxap:subSections>
                </uxap:ObjectPageSection>

                <!-- Product List Section -->
                <uxap:ObjectPageSection title="Product List">
                    <uxap:subSections>
                        <uxap:ObjectPageSubSection class="sapUiSmallPadding">
                            <VBox>
                                <Toolbar>
                                    <Title text="Products" />
                                    <ToolbarSpacer />
                                    <Button
                                        text="Add"
                                        icon="sap-icon://add"
                                        press=".onAddProductRow"
                                    />
                                    <Button
                                        text="Delete"
                                        icon="sap-icon://delete"
                                        press=".onDeleteProductRow"
                                    />
                                </Toolbar>

                                <Table
                                    id="productTable"
                                    mode="MultiSelect"
                                    items="{ui>/product}"
                                    class="sapUiResponsiveMargin"
                                >
                                    <columns>
                                        <Column>
                                            <Text text="Product Name" />
                                        </Column>
                                        <Column>
                                            <Text text="Quantity" />
                                        </Column>
                                        <Column>
                                            <Text text="Unit" />
                                        </Column>
                                    </columns>

                                    <items>
                                        <ColumnListItem>
                                            <cells>
                                                <Input
                                                    value="{ui>productName}"
                                                    showValueHelp="true"
                                                    valueHelpRequest=".onProductValueHelp"
                                                    editable="true"
                                                    placeholder="Select product"
                                                />
                                                <Input
                                                    value="{ui>quantity}"
                                                    type="Number"
                                                    editable="true"
                                                    placeholder="Quantity"
                                                />
                                                <Select
                                                    selectedKey="{ui>unit}"
                                                    editable="true"
                                                >
                                                    <core:Item
                                                        key="EA"
                                                        text="EA"
                                                    />
                                                    <core:Item
                                                        key="BOX"
                                                        text="BOX"
                                                    />
                                                    <core:Item
                                                        key="KG"
                                                        text="KG"
                                                    />
                                                    <core:Item
                                                        key="L"
                                                        text="L"
                                                    />
                                                    <core:Item
                                                        key="M"
                                                        text="M"
                                                    />
                                                    <core:Item
                                                        key="CM"
                                                        text="CM"
                                                    />
                                                    <core:Item
                                                        key="PACK"
                                                        text="PACK"
                                                    />
                                                    <core:Item
                                                        key="SET"
                                                        text="SET"
                                                    />
                                                    <core:Item
                                                        key="ROLL"
                                                        text="ROLL"
                                                    />
                                                </Select>
                                            </cells>
                                        </ColumnListItem>
                                    </items>
                                </Table>
                            </VBox>
                        </uxap:ObjectPageSubSection>
                    </uxap:subSections>
                </uxap:ObjectPageSection>
            </uxap:sections>
        </uxap:ObjectPageLayout>
    </Page>
</mvc:View>
